<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Specifications - Investment Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .nav-links {
            background: #f8f9fa;
            padding: 15px 40px;
            border-bottom: 2px solid #e9ecef;
        }

        .nav-links a {
            color: #667eea;
            text-decoration: none;
            margin-right: 20px;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #764ba2;
        }

        .content {
            padding: 40px;
        }

        .section {
            margin-bottom: 50px;
        }

        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 30px 0 15px 0;
        }

        .filter-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-group label {
            font-weight: 600;
            color: #495057;
            font-size: 0.9em;
        }

        .filter-group select {
            padding: 8px 12px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 1em;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        .filter-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .model-card {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            background: white;
            transition: all 0.3s;
        }

        .model-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-color: #667eea;
        }

        .model-card.traditional { border-left: 5px solid #28a745; }
        .model-card.sector { border-left: 5px solid #ffc107; }
        .model-card.ml { border-left: 5px solid #667eea; }
        .model-card.ensemble { border-left: 5px solid #e83e8c; }

        .model-card h4 {
            color: #212529;
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .model-type-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 0.75em;
            font-weight: 600;
            text-transform: uppercase;
            margin-bottom: 10px;
        }

        .badge-traditional { background: #d4edda; color: #155724; }
        .badge-sector { background: #fff3cd; color: #856404; }
        .badge-ml { background: #cfe2ff; color: #084298; }
        .badge-ensemble { background: #f8d7da; color: #842029; }

        .model-description {
            color: #6c757d;
            font-size: 0.95em;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .model-stats {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-size: 0.9em;
        }

        .stat-label {
            color: #6c757d;
            font-weight: 500;
        }

        .stat-value {
            color: #212529;
            font-weight: 600;
        }

        .performance-high { color: #28a745; }
        .performance-medium { color: #ffc107; }
        .performance-low { color: #6c757d; }

        .use-cases {
            margin-top: 15px;
        }

        .use-cases ul {
            list-style: none;
            padding-left: 0;
        }

        .use-cases li {
            padding: 5px 0 5px 20px;
            position: relative;
            font-size: 0.9em;
            color: #495057;
        }

        .use-cases li:before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #28a745;
            font-weight: bold;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9em;
        }

        .comparison-table th {
            background: #667eea;
            color: white;
            padding: 12px 8px;
            text-align: left;
            font-weight: 600;
            position: sticky;
            top: 0;
        }

        .comparison-table td {
            padding: 10px 8px;
            border-bottom: 1px solid #dee2e6;
        }

        .comparison-table tr:hover {
            background: #f8f9fa;
        }

        .complexity-indicator {
            display: flex;
            gap: 3px;
        }

        .complexity-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #dee2e6;
        }

        .complexity-dot.active {
            background: #667eea;
        }

        .ml-architecture {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
            margin: 20px 0;
        }

        .ml-architecture code {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .performance-chart {
            margin: 30px 0;
        }

        .performance-bar {
            display: flex;
            align-items: center;
            margin: 10px 0;
        }

        .performance-label {
            width: 200px;
            font-weight: 500;
            font-size: 0.9em;
        }

        .performance-bar-container {
            flex: 1;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .performance-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: 600;
            font-size: 0.85em;
            transition: width 1s ease-out;
        }

        .info-box {
            background: #e7f3ff;
            border-left: 4px solid #0d6efd;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .info-box strong {
            color: #0d6efd;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .warning-box strong {
            color: #856404;
        }

        @media (max-width: 768px) {
            .model-grid {
                grid-template-columns: 1fr;
            }

            .filter-controls {
                flex-direction: column;
            }

            .performance-label {
                width: 120px;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Model Specifications</h1>
            <p>Comprehensive guide to all 15+ valuation models</p>
        </div>

        <div class="nav-links">
            <a href="valuation_dashboard.html">‚Üê Back to Main Dashboard</a>
            <a href="#overview">Overview</a>
            <a href="#comparison">Model Comparison</a>
            <a href="#performance">Performance</a>
            <a href="#ml-details">ML Details</a>
        </div>

        <div class="content">
            <!-- Overview Section -->
            <div class="section" id="overview">
                <h2>üìã Overview</h2>
                <p>This investment system employs <strong>15+ specialized valuation models</strong> across four categories:</p>

                <div class="info-box">
                    <strong>Model Categories:</strong>
                    <ul style="margin: 10px 0 0 20px;">
                        <li><strong>Traditional Models (6)</strong> - DCF variants and ratio-based approaches</li>
                        <li><strong>Sector-Specific Models (4)</strong> - Specialized for REITs, Banks, Tech, and Utilities</li>
                        <li><strong>Machine Learning Models (9)</strong> - GBM and Neural Network predictions</li>
                        <li><strong>Ensemble Model (1)</strong> - Combines multiple approaches with intelligent weighting</li>
                    </ul>
                </div>
            </div>

            <!-- Filter Controls -->
            <div class="section">
                <h2>üîç Explore Models</h2>
                <div class="filter-controls">
                    <div class="filter-group">
                        <label>Category</label>
                        <select id="categoryFilter" onchange="filterModels()">
                            <option value="all">All Categories</option>
                            <option value="traditional">Traditional</option>
                            <option value="sector">Sector-Specific</option>
                            <option value="ml">Machine Learning</option>
                            <option value="ensemble">Ensemble</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Complexity</label>
                        <select id="complexityFilter" onchange="filterModels()">
                            <option value="all">All Complexity Levels</option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                            <option value="very-high">Very High</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>Time Horizon</label>
                        <select id="horizonFilter" onchange="filterModels()">
                            <option value="all">All Horizons</option>
                            <option value="short">Short (1m-6m)</option>
                            <option value="medium">Medium (1y)</option>
                            <option value="long">Long (2y-10y)</option>
                        </select>
                    </div>
                </div>

                <!-- Model Cards Grid -->
                <div class="model-grid" id="modelGrid">
                    <!-- Traditional Models -->
                    <div class="model-card traditional" data-category="traditional" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-traditional">Traditional</span>
                        <h4>Standard DCF</h4>
                        <p class="model-description">Discounted Cash Flow model with projected free cash flows over 10 years. The foundational valuation method used by professional analysts.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">302 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10 years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Growing companies</li>
                                <li>Predictable cash flows</li>
                                <li>Fundamental analysis</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card traditional" data-category="traditional" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-traditional">Traditional</span>
                        <h4>Enhanced DCF</h4>
                        <p class="model-description">DCF with normalized cash flows and improved assumptions for companies with volatile earnings patterns.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">302 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10 years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Volatile companies</li>
                                <li>Lumpy cash flows</li>
                                <li>Cyclical businesses</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card traditional" data-category="traditional" data-complexity="high" data-horizon="long">
                        <span class="model-type-badge badge-traditional">Traditional</span>
                        <h4>Multi-Stage DCF</h4>
                        <p class="model-description">DCF with multiple growth phases (high growth ‚Üí transition ‚Üí mature) for realistic long-term projections.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">302 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10+ years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">High</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Growth companies</li>
                                <li>Companies in transition</li>
                                <li>Long-term investors</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card traditional" data-category="traditional" data-complexity="high" data-horizon="long">
                        <span class="model-type-badge badge-traditional">Traditional</span>
                        <h4>Growth-Adjusted DCF</h4>
                        <p class="model-description">Separates maintenance from growth CapEx, properly valuing reinvestment in high-growth companies like Amazon or Tesla.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">302 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10 years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">High</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Reinvestment-heavy companies</li>
                                <li>Asset-heavy growth</li>
                                <li>Amazon/Tesla-type businesses</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card traditional" data-category="traditional" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-traditional">Traditional</span>
                        <h4>Residual Income Model (RIM)</h4>
                        <p class="model-description">Values companies based on returns above cost of equity. Ideal for financial companies and asset-heavy businesses.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">302 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10 years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Financial companies</li>
                                <li>Mature companies</li>
                                <li>Asset-heavy businesses</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card traditional" data-category="traditional" data-complexity="low" data-horizon="long">
                        <span class="model-type-badge badge-traditional">Traditional</span>
                        <h4>Market Multiples</h4>
                        <p class="model-description">Quick valuation using industry ratios and market multiples. Fast screening and cross-validation tool.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">302 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">Current</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Low</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>All companies</li>
                                <li>Quick screening</li>
                                <li>Cross-validation</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Sector-Specific Models -->
                    <div class="model-card sector" data-category="sector" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-sector">Sector</span>
                        <h4>REIT Valuation</h4>
                        <p class="model-description">Specialized for Real Estate Investment Trusts using FFO (Funds From Operations), NAV, and dividend models.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">5-10 years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>REITs</li>
                                <li>Real estate trusts</li>
                                <li>Dividend-focused investors</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card sector" data-category="sector" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-sector">Sector</span>
                        <h4>Bank Valuation</h4>
                        <p class="model-description">Specialized for banks using P/B ratios, ROE analysis, and dividend discount models tailored to financial institutions.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">5-10 years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Banks</li>
                                <li>Financial institutions</li>
                                <li>Credit services</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card sector" data-category="sector" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-sector">Sector</span>
                        <h4>Technology Valuation</h4>
                        <p class="model-description">Growth-focused valuation for tech companies using revenue multiples, PEG ratios, and forward-looking metrics.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10+ years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Technology companies</li>
                                <li>High-growth companies</li>
                                <li>Software/internet companies</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card sector" data-category="sector" data-complexity="medium" data-horizon="long">
                        <span class="model-type-badge badge-sector">Sector</span>
                        <h4>Utility Valuation</h4>
                        <p class="model-description">Dividend-focused valuation for utility companies with regulated returns and stable cash flows.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Time Horizon:</span>
                                <span class="stat-value">10+ years</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">Medium</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Utilities</li>
                                <li>Regulated companies</li>
                                <li>Infrastructure companies</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Machine Learning Models -->
                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="medium">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>GBM 1-Year</h4>
                        <p class="model-description">Gradient Boosted Machine (LightGBM) with 464 engineered features predicting 1-year returns. <strong>Best 1-year model.</strong></p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">286 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Rank IC:</span>
                                <span class="stat-value performance-high">0.6146</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Decile Spread:</span>
                                <span class="stat-value performance-high">80.4%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Features:</span>
                                <span class="stat-value">464 (12 quarters history)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Mature companies (12+ quarters data)</li>
                                <li>Annual rebalancing</li>
                                <li>Highest accuracy predictions</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="long">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>GBM 3-Year</h4>
                        <p class="model-description">Full GBM model predicting 3-year returns with 464 features. Long-term fundamental analysis.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">286 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Rank IC:</span>
                                <span class="stat-value performance-high">0.5926</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Decile Spread:</span>
                                <span class="stat-value performance-high">175.8%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Features:</span>
                                <span class="stat-value">464 (12 quarters history)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Long-term value investing</li>
                                <li>Mature companies</li>
                                <li>Buy-and-hold strategies</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="medium">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>GBM Lite 1-Year</h4>
                        <p class="model-description">Lighter GBM with 247 features requiring only 4 quarters of history. Fills coverage gaps for newer companies.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">286 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Rank IC:</span>
                                <span class="stat-value performance-high">0.5865</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Decile Spread:</span>
                                <span class="stat-value performance-high">77.2%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Features:</span>
                                <span class="stat-value">247 (4 quarters history)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Newer companies (4-11 quarters)</li>
                                <li>IPOs and SPACs</li>
                                <li>Broader coverage</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="long">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>GBM Lite 3-Year</h4>
                        <p class="model-description">Lighter GBM for 3-year predictions. <strong>Surprisingly outperforms full model (0.6076 vs 0.5926)!</strong></p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">286 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Rank IC:</span>
                                <span class="stat-value performance-high">0.6076 ‚≠ê</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Decile Spread:</span>
                                <span class="stat-value performance-high">185.0%</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Features:</span>
                                <span class="stat-value">247 (4 quarters history)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Long-term value (best 3y model!)</li>
                                <li>Simpler features generalize better</li>
                                <li>Fundamental stability focus</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="medium">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>GBM Opportunistic 1-Year</h4>
                        <p class="model-description">Predicts <strong>peak return within 2 years</strong> rather than 1-year endpoint. Optimized for timing entries with 'Realistic Exit' strategy.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">286 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Rank IC:</span>
                                <span class="stat-value performance-high">0.61</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Strategy:</span>
                                <span class="stat-value">Realistic Exit (patience-based)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Opportunistic entries</li>
                                <li>Flexible exit timing</li>
                                <li>Maximum upside capture</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="long">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>GBM Opportunistic 3-Year</h4>
                        <p class="model-description">Predicts <strong>peak return within 3 years</strong>. Highest predictive power for long-term opportunities.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">286 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Rank IC:</span>
                                <span class="stat-value performance-high">0.64 ‚≠ê</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Strategy:</span>
                                <span class="stat-value">Realistic Exit (patience-based)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Long-term opportunistic plays</li>
                                <li>Best overall predictive model</li>
                                <li>Patient capital deployment</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="medium">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>Neural Network 1-Year</h4>
                        <p class="model-description">LSTM/Transformer with MC Dropout confidence intervals. Temporal pattern recognition over 4 historical snapshots.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-high">304 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Architecture:</span>
                                <span class="stat-value">LSTM + Transformer</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Confidence:</span>
                                <span class="stat-value">MC Dropout (100 samples)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Temporal pattern recognition</li>
                                <li>Confidence-weighted decisions</li>
                                <li>Complementary to GBM models</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="long">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>Neural Network 3-Year</h4>
                        <p class="model-description">LSTM/Transformer trained on 3-year returns. Same architecture as 1-year but optimized for long-term predictions.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-medium">71 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Architecture:</span>
                                <span class="stat-value">LSTM + Transformer</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Confidence:</span>
                                <span class="stat-value">MC Dropout (100 samples)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Long-term temporal patterns</li>
                                <li>Multi-year trend analysis</li>
                                <li>Complementary to GBM 3y</li>
                            </ul>
                        </div>
                    </div>

                    <div class="model-card ml" data-category="ml" data-complexity="very-high" data-horizon="short">
                        <span class="model-type-badge badge-ml">Machine Learning</span>
                        <h4>Multi-Horizon Neural Network</h4>
                        <p class="model-description">Single neural network with 5 outputs predicting returns across 1m, 3m, 6m, 1y, and 2y horizons simultaneously.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Coverage:</span>
                                <span class="stat-value performance-medium">68 stocks</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Horizons:</span>
                                <span class="stat-value">5 (1m to 2y)</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Best Horizon:</span>
                                <span class="stat-value">2y (0.518 correlation)</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>Multi-timeframe analysis</li>
                                <li>Short-term trading (1m-6m)</li>
                                <li>Comparing time horizon predictions</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Ensemble Model -->
                    <div class="model-card ensemble" data-category="ensemble" data-complexity="high" data-horizon="long">
                        <span class="model-type-badge badge-ensemble">Ensemble</span>
                        <h4>Ensemble Valuation</h4>
                        <p class="model-description">Combines multiple valuation models with intelligent weighting based on model confidence and historical performance.</p>
                        <div class="model-stats">
                            <div class="stat-row">
                                <span class="stat-label">Constituent Models:</span>
                                <span class="stat-value">6+ models</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Weighting:</span>
                                <span class="stat-value">Confidence-based</span>
                            </div>
                            <div class="stat-row">
                                <span class="stat-label">Complexity:</span>
                                <span class="stat-value">High</span>
                            </div>
                        </div>
                        <div class="use-cases">
                            <strong>Best For:</strong>
                            <ul>
                                <li>High-confidence decisions</li>
                                <li>Complex valuations</li>
                                <li>Risk-averse investing</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Comparison -->
            <div class="section" id="performance">
                <h2>üìä Performance Metrics</h2>

                <div class="info-box">
                    <strong>Key Metrics Explained:</strong><br>
                    <strong>Rank IC (Information Coefficient):</strong> Correlation between predicted and actual stock rankings (0.6+ is excellent)<br>
                    <strong>Decile Spread:</strong> Return difference between top and bottom 10% of predictions (higher is better)<br>
                    <strong>Coverage:</strong> Number of stocks the model can analyze (more is better)
                </div>

                <h3>Machine Learning Model Performance</h3>
                <div class="performance-chart">
                    <div class="performance-bar">
                        <div class="performance-label">GBM Opportunistic 3y</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 64%;">Rank IC: 0.64</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">GBM 1y (Full)</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 61.46%;">Rank IC: 0.6146</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">GBM Opportunistic 1y</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 61%;">Rank IC: 0.61</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">GBM Lite 3y</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 60.76%;">Rank IC: 0.6076</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">GBM 3y (Full)</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 59.26%;">Rank IC: 0.5926</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">GBM Lite 1y</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 58.65%;">Rank IC: 0.5865</div>
                        </div>
                    </div>
                </div>

                <h3>Coverage Comparison</h3>
                <div class="performance-chart">
                    <div class="performance-bar">
                        <div class="performance-label">NN 1y</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 87.4%; background: linear-gradient(90deg, #667eea, #764ba2);">304 stocks</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">Traditional Models</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 86.8%; background: linear-gradient(90deg, #28a745, #20c997);">302 stocks</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">All GBM Models</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 82.2%; background: linear-gradient(90deg, #667eea, #764ba2);">286 stocks</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">NN 3y</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 20.4%; background: linear-gradient(90deg, #ffc107, #ff6b6b);">71 stocks</div>
                        </div>
                    </div>
                    <div class="performance-bar">
                        <div class="performance-label">Multi-Horizon NN</div>
                        <div class="performance-bar-container">
                            <div class="performance-bar-fill" style="width: 19.5%; background: linear-gradient(90deg, #ffc107, #ff6b6b);">68 stocks</div>
                        </div>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>Note on Neural Network Coverage:</strong> NN models require 4+ historical snapshots with complete valuation data (PE/PB ratios). yfinance API provides current ratios but not historical ones, limiting coverage to ~100 stocks with complete historical data. GBM models have better coverage because they use quarterly financial data which is more readily available.
                </div>
            </div>

            <!-- ML Details Section -->
            <div class="section" id="ml-details">
                <h2>ü§ñ Machine Learning Architecture Details</h2>

                <h3>Gradient Boosted Machines (GBM)</h3>
                <div class="ml-architecture">
                    <h4>Full GBM Models (12 quarters history required)</h4>
                    <p><strong>Algorithm:</strong> LightGBM (gradient boosting framework)</p>
                    <p><strong>Base Features:</strong> 27 features (21 fundamentals + 6 price features)</p>
                    <p><strong>Feature Engineering:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><strong>Lag Periods:</strong> [1, 2, 4, 8] quarters</li>
                        <li><strong>Rolling Windows:</strong> [4, 8, 12] quarters (moving averages, std, trends)</li>
                        <li><strong>Total Features:</strong> 464 engineered features</li>
                        <li><strong>Normalization:</strong> Cross-sectional z-score per date (regime-agnostic)</li>
                    </ul>
                    <p><strong>Price Features:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><code>returns_1m</code>, <code>returns_3m</code>, <code>returns_6m</code>, <code>returns_1y</code> - Price momentum</li>
                        <li><code>volatility</code> - 60-day standard deviation of daily returns</li>
                        <li><code>volume_trend</code> - Recent volume vs average volume</li>
                    </ul>
                    <p><strong>Training:</strong> Random state fixed (42) for reproducibility, 15x feature expansion drives performance</p>
                </div>

                <div class="ml-architecture">
                    <h4>Lite GBM Models (4 quarters history required)</h4>
                    <p><strong>Simplified Feature Engineering:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><strong>Lag Periods:</strong> [1, 2] quarters (reduced from 4)</li>
                        <li><strong>Rolling Windows:</strong> [4] quarters (reduced from 3 windows)</li>
                        <li><strong>Total Features:</strong> 247 engineered features</li>
                        <li><strong>Coverage Advantage:</strong> 93% of stocks (vs 29% for full model)</li>
                    </ul>
                    <p><strong>Surprising Result:</strong> Lite 3y model (0.6076 IC) outperforms Full 3y model (0.5926 IC)!</p>
                    <ul style="margin-left: 20px;">
                        <li><strong>Hypothesis:</strong> Simpler features generalize better over long horizons</li>
                        <li><strong>Insight:</strong> 3-year predictions need fundamental stability, not complex short-term patterns</li>
                    </ul>
                </div>

                <div class="ml-architecture">
                    <h4>Opportunistic GBM Models (Realistic Exit Strategy)</h4>
                    <p><strong>Key Difference:</strong> Predicts <em>peak return within window</em> instead of endpoint return</p>
                    <p><strong>Target Variable:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li><strong>1y Model:</strong> <code>max_return_within_2y</code> - Best return achieved any month in next 2 years</li>
                        <li><strong>3y Model:</strong> <code>max_return_within_3y</code> - Best return achieved any month in next 3 years</li>
                    </ul>
                    <p><strong>Patience Parameter:</strong> Uses "Realistic Exit" (6+ month hold requirement)</p>
                    <p><strong>Performance:</strong> Highest Rank ICs (0.61 and 0.64) - best for opportunistic entries</p>
                </div>

                <h3>Neural Network Models</h3>
                <div class="ml-architecture">
                    <h4>LSTM/Transformer Architecture (NN 1y, NN 3y)</h4>
                    <p><strong>Architecture:</strong></p>
                    <pre style="background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 6px; overflow-x: auto;">
Input: 4 historical snapshots (temporal features: 11, static: 22)
  ‚Üì
LSTM Layer (hidden_size=64, 2 layers, bidirectional)
  ‚Üì
Transformer Encoder (4 heads, 2 layers)
  ‚Üì
Self-Attention Pooling
  ‚Üì
Dense(128) + ReLU + Dropout(0.3)
  ‚Üì
Dense(64) + ReLU + Dropout(0.3)
  ‚Üì
Dense(1) ‚Üí Predicted Return
                    </pre>
                    <p><strong>Confidence Estimation:</strong> Monte Carlo Dropout (100 forward passes with dropout enabled)</p>
                    <p><strong>Data Requirements:</strong> Requires 4+ historical snapshots with PE/PB ratios</p>
                    <p><strong>Coverage Limitation:</strong> ~100 stocks have complete historical ratio data from yfinance</p>
                </div>

                <div class="ml-architecture">
                    <h4>Multi-Horizon Neural Network (5 outputs)</h4>
                    <p><strong>Innovation:</strong> Single network predicts 5 time horizons simultaneously</p>
                    <pre style="background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 6px; overflow-x: auto;">
Input Layer (60+ features)
  ‚Üì
Dense(256) + BatchNorm + ReLU + Dropout(0.3)
  ‚Üì
Dense(128) + BatchNorm + ReLU + Dropout(0.3)
  ‚Üì
Dense(64) + BatchNorm + ReLU + Dropout(0.3)
  ‚Üì
Dense(32) + BatchNorm + ReLU + Dropout(0.3)
  ‚Üì
Dense(5 outputs) ‚Üí [1m, 3m, 6m, 1y, 2y] predictions
                    </pre>
                    <p><strong>Best Horizon:</strong> 2-year predictions (0.518 correlation)</p>
                    <p><strong>Advantage:</strong> Provides complete time horizon view in single forward pass</p>
                </div>

                <h3>Key Insights from Development</h3>
                <div class="info-box">
                    <strong>Feature Engineering > Architecture Complexity</strong><br>
                    Adding price momentum features (6 features) improved Rank IC from 0.27 ‚Üí 0.59 (117% improvement). This single change had more impact than any architectural modification.
                </div>

                <div class="info-box">
                    <strong>Cross-Sectional Normalization is Critical</strong><br>
                    Z-score normalization per date (comparing stocks relative to each other at the same time) enables regime-agnostic learning. Models trained in 2004-2022 generalize to 2024+ market conditions.
                </div>

                <div class="warning-box">
                    <strong>Random Seeds Matter!</strong><br>
                    Initial comparison showed 10% performance difference between models that disappeared after fixing random seeds. Always set <code>random_state=42</code> in LightGBM for reproducible comparisons.
                </div>

                <div class="info-box">
                    <strong>Database Optimization Saves Hours</strong><br>
                    Loading 35M price history records takes ~17 minutes per model training run. Adding indexes to SQLite database reduced this bottleneck significantly.
                </div>
            </div>

            <!-- Comparison Table -->
            <div class="section" id="comparison">
                <h2>üìã Complete Model Comparison Table</h2>
                <div style="overflow-x: auto;">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Model</th>
                                <th>Category</th>
                                <th>Coverage</th>
                                <th>Rank IC</th>
                                <th>Complexity</th>
                                <th>Time Horizon</th>
                                <th>Best Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>GBM Opportunistic 3y</strong></td>
                                <td>ML</td>
                                <td>286</td>
                                <td class="performance-high">0.64 ‚≠ê</td>
                                <td>Very High</td>
                                <td>3 years (peak)</td>
                                <td>Best overall predictive model</td>
                            </tr>
                            <tr>
                                <td><strong>GBM 1y (Full)</strong></td>
                                <td>ML</td>
                                <td>286</td>
                                <td class="performance-high">0.6146</td>
                                <td>Very High</td>
                                <td>1 year</td>
                                <td>Best 1-year prediction</td>
                            </tr>
                            <tr>
                                <td><strong>GBM Opportunistic 1y</strong></td>
                                <td>ML</td>
                                <td>286</td>
                                <td class="performance-high">0.61</td>
                                <td>Very High</td>
                                <td>1-2 years (peak)</td>
                                <td>Opportunistic entries</td>
                            </tr>
                            <tr>
                                <td><strong>GBM Lite 3y</strong></td>
                                <td>ML</td>
                                <td>286</td>
                                <td class="performance-high">0.6076</td>
                                <td>Very High</td>
                                <td>3 years</td>
                                <td>Best 3y, broader coverage</td>
                            </tr>
                            <tr>
                                <td><strong>GBM 3y (Full)</strong></td>
                                <td>ML</td>
                                <td>286</td>
                                <td class="performance-high">0.5926</td>
                                <td>Very High</td>
                                <td>3 years</td>
                                <td>Long-term value</td>
                            </tr>
                            <tr>
                                <td><strong>GBM Lite 1y</strong></td>
                                <td>ML</td>
                                <td>286</td>
                                <td class="performance-high">0.5865</td>
                                <td>Very High</td>
                                <td>1 year</td>
                                <td>Newer companies (4+ quarters)</td>
                            </tr>
                            <tr>
                                <td><strong>NN 1y</strong></td>
                                <td>ML</td>
                                <td>304</td>
                                <td>‚Äî</td>
                                <td>Very High</td>
                                <td>1 year</td>
                                <td>Temporal patterns, confidence intervals</td>
                            </tr>
                            <tr>
                                <td><strong>NN 3y</strong></td>
                                <td>ML</td>
                                <td>71</td>
                                <td>‚Äî</td>
                                <td>Very High</td>
                                <td>3 years</td>
                                <td>Long-term temporal analysis</td>
                            </tr>
                            <tr>
                                <td><strong>Multi-Horizon NN</strong></td>
                                <td>ML</td>
                                <td>68</td>
                                <td>‚Äî</td>
                                <td>Very High</td>
                                <td>1m-2y (5 horizons)</td>
                                <td>Short-term trading, multi-timeframe</td>
                            </tr>
                            <tr>
                                <td><strong>Standard DCF</strong></td>
                                <td>Traditional</td>
                                <td>302</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>10 years</td>
                                <td>Growing companies, predictable cash flows</td>
                            </tr>
                            <tr>
                                <td><strong>Enhanced DCF</strong></td>
                                <td>Traditional</td>
                                <td>302</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>10 years</td>
                                <td>Volatile companies, lumpy cash flows</td>
                            </tr>
                            <tr>
                                <td><strong>Multi-Stage DCF</strong></td>
                                <td>Traditional</td>
                                <td>302</td>
                                <td>‚Äî</td>
                                <td>High</td>
                                <td>10+ years</td>
                                <td>Growth companies, companies in transition</td>
                            </tr>
                            <tr>
                                <td><strong>Growth-Adjusted DCF</strong></td>
                                <td>Traditional</td>
                                <td>302</td>
                                <td>‚Äî</td>
                                <td>High</td>
                                <td>10 years</td>
                                <td>Amazon/Tesla-type businesses</td>
                            </tr>
                            <tr>
                                <td><strong>RIM</strong></td>
                                <td>Traditional</td>
                                <td>302</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>10 years</td>
                                <td>Financial companies, asset-heavy</td>
                            </tr>
                            <tr>
                                <td><strong>Market Multiples</strong></td>
                                <td>Traditional</td>
                                <td>302</td>
                                <td>‚Äî</td>
                                <td>Low</td>
                                <td>Current</td>
                                <td>Quick screening, cross-validation</td>
                            </tr>
                            <tr>
                                <td><strong>REIT</strong></td>
                                <td>Sector</td>
                                <td>‚Äî</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>5-10 years</td>
                                <td>Real estate investment trusts</td>
                            </tr>
                            <tr>
                                <td><strong>Bank</strong></td>
                                <td>Sector</td>
                                <td>‚Äî</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>5-10 years</td>
                                <td>Banks, financial institutions</td>
                            </tr>
                            <tr>
                                <td><strong>Tech</strong></td>
                                <td>Sector</td>
                                <td>‚Äî</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>10+ years</td>
                                <td>Technology, software companies</td>
                            </tr>
                            <tr>
                                <td><strong>Utility</strong></td>
                                <td>Sector</td>
                                <td>‚Äî</td>
                                <td>‚Äî</td>
                                <td>Medium</td>
                                <td>10+ years</td>
                                <td>Utilities, regulated companies</td>
                            </tr>
                            <tr>
                                <td><strong>Ensemble</strong></td>
                                <td>Ensemble</td>
                                <td>‚Äî</td>
                                <td>‚Äî</td>
                                <td>High</td>
                                <td>Varies</td>
                                <td>High-confidence decisions, complex valuations</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Recommendations -->
            <div class="section">
                <h2>üí° Model Selection Recommendations</h2>

                <h3>For Different Investment Styles</h3>

                <div class="ml-architecture">
                    <h4>üéØ Active Trading (1-year horizon)</h4>
                    <p><strong>Primary:</strong> GBM Opportunistic 1y (Rank IC 0.61)</p>
                    <p><strong>Secondary:</strong> GBM 1y Full (Rank IC 0.6146)</p>
                    <p><strong>Confirmation:</strong> NN 1y (confidence intervals)</p>
                    <p><strong>Why:</strong> Highest predictive accuracy for 1-year timeframe, opportunistic model finds best entry points</p>
                </div>

                <div class="ml-architecture">
                    <h4>üìà Long-Term Value Investing (3+ years)</h4>
                    <p><strong>Primary:</strong> GBM Opportunistic 3y (Rank IC 0.64 - best overall!)</p>
                    <p><strong>Secondary:</strong> GBM Lite 3y (Rank IC 0.6076)</p>
                    <p><strong>Cross-Check:</strong> Traditional DCF models</p>
                    <p><strong>Why:</strong> Opportunistic 3y has highest predictive power, DCF provides fundamental sanity check</p>
                </div>

                <div class="ml-architecture">
                    <h4>‚ö° Short-Term Trading (1-6 months)</h4>
                    <p><strong>Primary:</strong> Multi-Horizon NN (1m, 3m, 6m outputs)</p>
                    <p><strong>Why:</strong> Only model optimized for sub-1-year horizons, provides complete view of short-term expectations</p>
                </div>

                <div class="ml-architecture">
                    <h4>üõ°Ô∏è Conservative/Risk-Averse</h4>
                    <p><strong>Primary:</strong> Ensemble Model</p>
                    <p><strong>Filters:</strong> Only invest when Traditional + ML models agree</p>
                    <p><strong>Why:</strong> Multi-model consensus reduces single-model risk, higher confidence in predictions</p>
                </div>

                <div class="ml-architecture">
                    <h4>üîç Sector-Specific Investing</h4>
                    <p><strong>REITs:</strong> REIT Model (FFO-based) + GBM models</p>
                    <p><strong>Banks:</strong> Bank Model (P/B, ROE) + RIM</p>
                    <p><strong>Tech:</strong> Tech Model (revenue multiples) + Multi-Stage DCF</p>
                    <p><strong>Utilities:</strong> Utility Model (dividend focus) + Standard DCF</p>
                    <p><strong>Why:</strong> Sector models understand industry-specific metrics, combined with general models for robustness</p>
                </div>

                <h3>Production Workflow Recommendation</h3>
                <div class="info-box">
                    <strong>Suggested Multi-Model Approach:</strong>
                    <ol style="margin: 10px 0 0 20px;">
                        <li><strong>Screen with GBM Opportunistic 3y:</strong> Find stocks with highest predicted upside (top decile = 185% spread)</li>
                        <li><strong>Confirm with Traditional Models:</strong> Verify DCF/RIM agree on undervaluation (not just momentum)</li>
                        <li><strong>Check NN Confidence:</strong> Use NN 1y/3y MC Dropout confidence intervals (only invest in high-confidence predictions)</li>
                        <li><strong>Validate with Ensemble:</strong> Final check that consensus model shows positive upside</li>
                        <li><strong>Time Entry with Multi-Horizon NN:</strong> Use 1m/3m predictions to optimize entry timing</li>
                    </ol>
                    <p style="margin-top: 15px;"><strong>Result:</strong> High-conviction picks with both fundamental support (DCF) and data-driven edge (GBM)</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        function filterModels() {
            const categoryFilter = document.getElementById('categoryFilter').value;
            const complexityFilter = document.getElementById('complexityFilter').value;
            const horizonFilter = document.getElementById('horizonFilter').value;

            const cards = document.querySelectorAll('.model-card');

            cards.forEach(card => {
                const category = card.getAttribute('data-category');
                const complexity = card.getAttribute('data-complexity');
                const horizon = card.getAttribute('data-horizon');

                let show = true;

                if (categoryFilter !== 'all' && category !== categoryFilter) {
                    show = false;
                }

                if (complexityFilter !== 'all' && complexity !== complexityFilter) {
                    show = false;
                }

                if (horizonFilter !== 'all') {
                    if (horizonFilter === 'short' && horizon !== 'short') show = false;
                    if (horizonFilter === 'medium' && horizon !== 'medium') show = false;
                    if (horizonFilter === 'long' && horizon !== 'long') show = false;
                }

                card.style.display = show ? 'block' : 'none';
            });
        }

        // Animate performance bars on load
        window.addEventListener('load', () => {
            const bars = document.querySelectorAll('.performance-bar-fill');
            bars.forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 100);
            });
        });
    </script>
</body>
</html>
